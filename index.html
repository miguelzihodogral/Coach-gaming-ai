<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisador de Clipes de Jogos (Rob√¥ V.13 - Falha de Leitura)</title>
    <!-- Carrega o Tailwind CSS para estiliza√ß√£o moderna e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #121212; 
        }
        .app-card {
            background-color: #1f1f1f; 
        }
        .result-text {
            color: #e0e0e0;
        }
        .progress-bar {
            transition: width 0.5s linear;
        }
        /* Estilos para o ranking de ELITE */
        .ranking-elite {
            color: #FFD700; /* Ouro */
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
            font-size: 1.5rem; 
            font-weight: 900;
        }
        /* Estilos para o ranking de LOW-SKILL (Cr√≠tico) */
        .ranking-low {
            color: #E74C3C; /* Vermelho escuro */
            text-shadow: 0 0 5px rgba(231, 76, 60, 0.5);
            font-size: 1.5rem; 
            font-weight: 900;
        }
    </style>
</head>
<body class="p-4 sm:p-8 flex items-center justify-center min-h-screen">

    <div class="w-full max-w-xl app-card p-6 sm:p-8 rounded-xl shadow-2xl border border-gray-700">

        <!-- T√≠tulo principal do Aplicativo -->
        <header class="text-center mb-6">
            <h1 class="text-3xl font-bold text-teal-400 mb-2">ü§ñ Rob√¥ Classificador de Desempenho em Jogos V.13</h1>
            <p class="text-sm text-gray-400">An√°lise de clipes de jogos. O rob√¥ ir√° tentar determinar o ranqueamento. (Pode falhar).</p>
        </header>
        
        <!-- Sele√ß√£o Manual do Jogo (Mantida) -->
        <section class="mb-6">
            <label for="gameSelect" class="block text-gray-300 font-medium mb-2">Qual jogo ser√° analisado no clip?</label>
            <select id="gameSelect" class="w-full p-3 rounded-lg bg-gray-800 text-white border border-gray-700 focus:ring-teal-500 focus:border-teal-500">
                <option value="" disabled selected>-- Selecione o Jogo --</option>
                <!-- Op√ß√µes ser√£o preenchidas via JavaScript -->
            </select>
        </section>
        
        <!-- √Årea de Upload de V√≠deo -->
        <section class="mb-6 border-2 border-dashed border-teal-600 p-4 rounded-xl hover:border-teal-400 transition duration-300">
            <label for="videoUpload" class="block text-center cursor-pointer">
                <p class="result-text mb-2 font-medium">Selecione um clip de jogo (v√≠deo) para an√°lise</p>
                <input type="file" id="videoUpload" accept="video/*" class="hidden">
                <div class="w-full h-24 flex items-center justify-center bg-gray-800 rounded-lg overflow-hidden border border-gray-600">
                    <p id="videoPlaceholder" class="text-gray-400 text-center p-4">
                        Nenhum v√≠deo selecionado. Clique para escolher o arquivo.
                    </p>
                </div>
            </label>
        </section>

        <!-- Bot√£o de Avalia√ß√£o -->
        <button id="analyzeButton"
            class="w-full py-3 bg-teal-600 text-white font-bold text-lg rounded-xl shadow-lg hover:bg-teal-700 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
            Analisar Clip de Jogo (An√°lise em 5 segundos)
        </button>

        <!-- √Årea de Resultados (Escondida Inicialmente) -->
        <section id="resultsSection" class="mt-8 pt-4 border-t border-gray-700 hidden">
            <h3 class="text-xl font-bold text-teal-400 mb-4">Progresso da An√°lise da IA:</h3>

            <!-- Barra de Progresso -->
            <div class="w-full bg-gray-700 rounded-full h-4 mb-2">
                <div id="progressBar" class="progress-bar h-4 rounded-full bg-teal-500" style="width: 0%"></div>
            </div>
            <p id="progressMessage" class="text-sm text-gray-400 text-center mb-4">Aguardando v√≠deo...</p>

            <!-- Relat√≥rio Final (Aparece ap√≥s o processamento) -->
            <div id="finalReport" class="hidden p-5 bg-gray-800 rounded-xl border border-gray-700 shadow-md">
                <h4 class="text-lg font-bold text-teal-400 mb-3">Resultados Principais da An√°lise:</h4>

                <!-- Jogo Identificado -->
                <div class="flex justify-between items-center mb-3 p-2 bg-gray-700 rounded-lg">
                    <span class="text-base font-medium text-gray-300">Jogo Selecionado:</span>
                    <span id="gameDisplay" class="text-xl font-extrabold text-pink-400">--</span>
                </div>
                
                <!-- Ranking Merecido -->
                <div class="flex justify-between items-center mb-3 p-2 bg-gray-700 rounded-lg">
                    <span class="text-base font-medium text-gray-300">Ranking Merecido (IA V.13):</span>
                    <span id="rankingDisplay" class="text-2xl font-extrabold">--</span> 
                </div>

                <!-- Relat√≥rio Detalhado -->
                <div class="mt-4 pt-4 border-t border-gray-700">
                    <h5 class="text-lg font-bold text-teal-400 mb-2">Relat√≥rio de An√°lise T√©cnica Completo (IA V.13.0):</h5>
                    <div id="detailedReport" class="text-sm text-gray-300 p-3 bg-gray-900 rounded-lg whitespace-pre-line">
                        Aguardando an√°lise...
                    </div>
                </div>


                <div id="statusMessage" class="p-3 rounded-lg text-center font-semibold border transition duration-500 mt-4">
                    An√°lise conclu√≠da.
                </div>
            </div>
            
            <button onclick="resetApp()" class="w-full mt-4 text-sm text-gray-500 hover:text-gray-400">
                Limpar Formul√°rio
            </button>
        </section>

    </div>

    <script>
        // Elementos da UI
        const videoUpload = document.getElementById('videoUpload');
        const videoPlaceholder = document.getElementById('videoPlaceholder');
        const analyzeButton = document.getElementById('analyzeButton');
        const resultsSection = document.getElementById('resultsSection');
        const progressBar = document.getElementById('progressBar');
        const progressMessage = document.getElementById('progressMessage');
        const finalReport = document.getElementById('finalReport');
        const gameDisplay = document.getElementById('gameDisplay');
        const rankingDisplay = document.getElementById('rankingDisplay');
        const detailedReportElement = document.getElementById('detailedReport');
        const statusMessage = document.getElementById('statusMessage');
        const gameSelect = document.getElementById('gameSelect');

        const ANALYSIS_TIME_MS = 5000; // Tempo total de an√°lise: 5 segundos fixos
        
        // JOGOS ATUALIZADOS
        const GAMES = ["Valorant", "Fortnite", "Free Fire", "Rocket League", "Clash Royale"];

        // Mapeamento de Rankings TOP OFICIAIS
        const ELITE_RANKS = {
            "Valorant": "RADIANTE (TOP 0.01%)",
            "Fortnite": "UNREAL (TOP 0.01%)",
            "Rocket League": "LENDA SUPER S√îNICA (SSL)",
            "Free Fire": "DESAFIANTE SUPREMO",
            "Clash Royale": "CAMPE√ÉO SUPREMO (TOP 1000)"
        };

        // Mapeamento de Rankings BAIXOS/COMUNS
        const LOW_RANKS = {
            "Valorant": ["FERRO I", "BRONZE I", "PRATA I"],
            "Fortnite": ["BRONZE I", "PRATA I", "OURO I"],
            "Rocket League": ["BRONZE I", "PRATA I", "OURO I"],
            "Free Fire": ["PATENTE I", "PRATA I", "OURO I"],
            "Clash Royale": ["ARENA I", "BRONZE", "PRATA"]
        };

        /**
         * Seleciona aleatoriamente um rank de uma lista.
         */
        function getRandomRank(rankList) {
            const index = Math.floor(Math.random() * rankList.length);
            return rankList[index];
        }

        /**
         * Inicializa o app e preenche o seletor de jogos.
         */
        function initializeApp() {
            populateGameSelect();
            checkInputs();

            // Adiciona listeners
            gameSelect.addEventListener('change', checkInputs);
            videoUpload.addEventListener('change', checkInputs);
        }

        /**
         * Preenche o seletor de jogos com as op√ß√µes definidas.
         */
        function populateGameSelect() {
            // Limpa o seletor primeiro
            gameSelect.innerHTML = '<option value="" disabled selected>-- Selecione o Jogo --</option>';
            GAMES.forEach(game => {
                const option = document.createElement('option');
                option.value = game;
                option.textContent = game;
                gameSelect.appendChild(option);
            });
        }

        /**
         * Verifica se o bot√£o deve estar ativo (requer v√≠deo E jogo selecionado).
         */
        function checkInputs() {
            const file = videoUpload.files.length > 0;
            const gameSelected = gameSelect.value !== "";
            // N√£o precisa de modo de skill, apenas jogo e v√≠deo
            analyzeButton.disabled = !(file && gameSelected);
        }

        // Event Listeners
        videoUpload.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                videoPlaceholder.textContent = `Clip Selecionado: ${file.name} (Tamanho: ${(file.size / 1024 / 1024).toFixed(2)} MB)`;
                resultsSection.classList.add('hidden');
            } else {
                videoPlaceholder.textContent = "Nenhum v√≠deo selecionado. Clique para escolher o arquivo.";
            }
        });

        analyzeButton.addEventListener('click', () => {
            if (analyzeButton.disabled) {
                progressMessage.textContent = "Erro: Selecione o jogo e o v√≠deo antes de analisar.";
                return;
            }

            analyzeButton.disabled = true;
            resultsSection.classList.remove('hidden');
            finalReport.classList.add('hidden');
            progressBar.style.width = '0%';
            progressBar.classList.remove('bg-green-500');
            progressBar.classList.add('bg-teal-500');
            progressMessage.textContent = 'Iniciando an√°lise do clip de v√≠deo (5 segundos)...';
            
            simulateProgress();
        });

        /**
         * Simula o progresso da barra em 5 segundos.
         */
        function simulateProgress() {
            progressBar.style.transitionDuration = `${ANALYSIS_TIME_MS / 1000}s`;
            
            setTimeout(() => {
                progressMessage.textContent = 'Processando IA: Tentando identificar jogabilidade e padr√µes de ranqueamento...';
                progressBar.style.width = '95%'; 
            }, 50);
            
            setTimeout(() => {
                progressBar.style.width = '100%';
                progressBar.classList.remove('bg-teal-500');
                progressBar.classList.add('bg-green-500'); 
                displaySimulatedResult();
                analyzeButton.disabled = false;
            }, ANALYSIS_TIME_MS);
        }

        /**
         * Fun√ß√£o principal de simula√ß√£o de resultados (Confus√£o da IA).
         */
        function displaySimulatedResult() {
            const selectedGame = gameSelect.value;
            
            // 40% de chance de ser ELITE, 60% de chance de ser LOW/Comum. (IA Confusa)
            const isEliteResult = Math.random() < 0.4; 
            const reportType = isEliteResult ? 'ELITE' : 'LOW';

            let finalRanking;
            
            if (isEliteResult) {
                finalRanking = ELITE_RANKS[selectedGame];
            } else {
                finalRanking = getRandomRank(LOW_RANKS[selectedGame]);
            }

            // Geradores de Dados Fict√≠cios (Ajustados para o contexto de cada jogo)
            let KDA, ACCURACY, detailedReport, message, colorClass, rankClass, verdictMessage;

            // M√âTRICAS GERAIS (adaptadas para jogos como CR)
            const genericScore = isEliteResult ? (Math.random() * 3 + 4).toFixed(2) : (Math.random() * 0.5 + 0.8).toFixed(2);
            const decisionTime = isEliteResult ? (Math.random() * 0.5 + 0.2).toFixed(2) : (Math.random() * 1.5 + 1.0).toFixed(2);
            const CONFIDENCE = isEliteResult ? (Math.random() * 10 + 85).toFixed(2) : (Math.random() * 20 + 40).toFixed(2); // Confian√ßa da IA

            detailedReport = `--- RELAT√ìRIO DE AN√ÅLISE DE PERFORMANCE (N√çVEL: ${reportType}) ---\n`;
            detailedReport += `\n[JOGO ANALISADO]: ${selectedGame}\n`;
            detailedReport += `[DIFICULDADE DO V√çDEO]: ALTA (Dados Inconsistentes)\n`;
            detailedReport += `[VERS√ÉO DA IA]: V.13.0 - M√≥dulo de Avalia√ß√£o Inst√°vel\n\n`;
            detailedReport += `[N√çVEL DE CONFIAN√áA DA IA]: ${CONFIDENCE}% (Resultado pode ser impreciso)\n`;


            if (isEliteResult) {
                detailedReport += `\n**M√âTRICAS DETALHADAS (Simula√ß√£o de Dados de Elite):**\n`;
                if (selectedGame === "Clash Royale") {
                    detailedReport += `- Raz√£o de Trocas Positivas (Simulada): ${genericScore} (Efici√™ncia de Elixir M√°xima)\n`;
                    detailedReport += `- Tempo M√©dio de Decis√£o (Simulada): ${decisionTime}s (Rea√ß√£o Imediata do N√≠vel Top)\n`;
                } else if (selectedGame === "Rocket League") {
                    detailedReport += `- Score por Toque (SPT) (Simulada): ${genericScore} (Controle de Bola A√©reo Perfeito)\n`;
                    detailedReport += `- Tempo M√©dio de Rota√ß√£o (Simulada): ${decisionTime}s (Cobertura de Campo Impec√°vel)\n`;
                } else { // FPS/BR
                    detailedReport += `- Raz√£o KDA (Simulada): ${genericScore} (Domin√¢ncia Total e Inquestion√°vel)\n`;
                    detailedReport += `- Tempo M√©dio de Rea√ß√£o (Simulada): ${decisionTime}s (Mira Computadorizada/Mec√¢nica Sem Falhas)\n`;
                }

                detailedReport += `\n**AN√ÅLISE COMPORTAMENTAL:**\n`;
                detailedReport += `Apesar da inconsist√™ncia na leitura do clip, a IA detectou momentos de maestria. Classifica√ß√£o de **${finalRanking}** atribu√≠da.`;
                
                rankClass = 'ranking-elite';
                colorClass = 'bg-yellow-900 text-yellow-300 border-yellow-700';
                message = `AN√ÅLISE CONCLU√çDA: RANQUEAMENTO TOP ${finalRanking} CONFIRMADO.`;
                verdictMessage = `O Rob√¥ confirma o ranqueamento de **${finalRanking}**. Um resultado de elite, mesmo com falhas de leitura.`;
                
            } else { // Low Skill
                detailedReport += `\n**M√âTRICAS DETALHADAS (Simula√ß√£o de Dados Comuns):**\n`;
                 if (selectedGame === "Clash Royale") {
                    detailedReport += `- Raz√£o de Trocas Positivas (Simulada): ${genericScore} (Vazamento Excessivo de Elixir)\n`;
                    detailedReport += `- Tempo M√©dio de Decis√£o (Simulada): ${decisionTime}s (Rea√ß√£o Lenta e Hesitante)\n`;
                } else if (selectedGame === "Rocket League") {
                    detailedReport += `- Score por Toque (SPT) (Simulada): ${genericScore} (Falta de A√©reas e Erros de Rota√ß√£o)\n`;
                    detailedReport += `- Tempo M√©dio de Rota√ß√£o (Simulada): ${decisionTime}s (Posicionamento Incorreto e Lento)\n`;
                } else { // FPS/BR
                    detailedReport += `- Raz√£o KDA (Simulada): ${genericScore} (Impacto M√≠nimo)\n`;
                    detailedReport += `- Tempo M√©dio de Rea√ß√£o (Simulada): ${decisionTime}s (Mec√¢nica B√°sica Inconsistente)\n`;
                }
                
                detailedReport += `\n**AN√ÅLISE COMPORTAMENTAL:**\n`;
                detailedReport += `O Rob√¥ encontrou dificuldades para analisar o clip, e a maioria dos dados aponta para erros fundamentais de jogabilidade. Classifica√ß√£o de **${finalRanking}** atribu√≠da.`;

                rankClass = 'ranking-low';
                colorClass = 'bg-red-900 text-red-300 border-red-700';
                message = `AN√ÅLISE CONCLU√çDA: RANQUEAMENTO ${finalRanking} ATRIBU√çDO. Falha na Leitura.`;
                verdictMessage = `O Rob√¥ confirma o ranqueamento de **${finalRanking}**. Ranqueamento baixo devido √† falta de clareza nos dados.`;
            }

            detailedReport += `\n\n**VEREDITO FINAL (IA V.13):**\n`;
            detailedReport += verdictMessage;

            // Atualiza√ß√£o da UI
            gameDisplay.textContent = selectedGame;
            rankingDisplay.textContent = finalRanking;
            rankingDisplay.className = `text-2xl font-extrabold ${rankClass}`;
            detailedReportElement.textContent = detailedReport;

            statusMessage.className = `p-3 rounded-lg text-center font-semibold border transition duration-500 mt-4 ${colorClass}`;
            statusMessage.textContent = message;

            finalReport.classList.remove('hidden');
            progressMessage.textContent = 'An√°lise conclu√≠da em 5.0 segundos.';
        }

        /**
         * Reinicia o formul√°rio.
         */
        window.resetApp = function() {
            videoUpload.value = ''; 
            gameSelect.value = '';
            videoPlaceholder.textContent = "Nenhum v√≠deo selecionado. Clique para escolher o arquivo.";
            finalReport.classList.add('hidden');
            resultsSection.classList.add('hidden');
            progressBar.style.width = '0%';
            progressBar.classList.remove('bg-green-500');
            progressBar.classList.add('bg-teal-500');
            
            progressMessage.textContent = "Formul√°rio limpo. Pronto para nova an√°lise.";
            
            initializeApp(); 
        }

        // Inicia o aplicativo ao carregar a p√°gina
        window.onload = initializeApp;
    </script>
</body>
</html>
